{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../components/Layout';\nimport fetch from 'isomorphic-unfetch';\nimport Link from 'next/link';\nimport Button from 'react-bootstrap/Button';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFlag, faShare, faEllipsisV } from '@fortawesome/free-solid-svg-icons';\nimport absoluteUrl from 'next-absolute-url';\nimport CompactOptionsToggle from '../components/CompactOptionsToggle';\n\nclass Home extends React.Component {\n  static async getInitialProps({\n    req\n  }) {\n    const {\n      origin\n    } = absoluteUrl(req);\n    const res = await fetch(`${origin}/api/polls/page/1`);\n    const data = await res.json();\n    return {\n      polls: data\n    };\n  }\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      polls\n    } = this.props;\n    return __jsx(Layout, null, __jsx(\"h4\", {\n      className: \"page-header\"\n    }, \"Recent Polls\"), __jsx(\"hr\", null), polls.map(poll => __jsx(\"div\", {\n      className: \"poll-card-container\",\n      key: poll.url\n    }, __jsx(Link, {\n      href: `/poll/${poll.url}`\n    }, __jsx(\"a\", null, __jsx(\"h6\", {\n      className: \"poll-card-title\"\n    }, poll.title))), __jsx(\"hr\", null), __jsx(\"div\", {\n      className: \"poll-card-desc\"\n    }, poll.desc.length > 0 ? __jsx(\"p\", null, poll.desc) : __jsx(\"i\", null, \"No Description\")), __jsx(\"hr\", null), __jsx(\"div\", {\n      className: \"poll-card-actions\"\n    }, __jsx(\"div\", null, __jsx(Link, {\n      href: {\n        pathname: '/poll',\n        query: {\n          slug: poll.url\n        }\n      },\n      as: `/poll/${poll.url}`\n    }, __jsx(\"a\", null, __jsx(Button, {\n      variant: \"grey-blue\",\n      className: \"view-poll\"\n    }, \"View Poll\"))), __jsx(\"div\", {\n      className: \"poll-stat\",\n      style: {\n        lineHeight: '2.5',\n        marginLeft: '0.75rem'\n      }\n    }, __jsx(\"span\", null, poll.totalVotes, \" votes \\u2022 Posted \", poll.dateCreated))), __jsx(\"div\", {\n      className: \"poll-card-actions-options\"\n    }, __jsx(\"div\", null, __jsx(\"span\", null, __jsx(FontAwesomeIcon, {\n      icon: faShare\n    }), \" Share\"), __jsx(\"span\", null, __jsx(FontAwesomeIcon, {\n      icon: faFlag\n    }), \" Report\")), __jsx(\"div\", {\n      className: \"poll-card-actions-compact\"\n    }, __jsx(Dropdown, {\n      alignRight: true\n    }, __jsx(Dropdown.Toggle, {\n      as: CompactOptionsToggle,\n      id: \"dropdown-custom-components\"\n    }, __jsx(FontAwesomeIcon, {\n      icon: faEllipsisV\n    })), __jsx(Dropdown.Menu, null, __jsx(Dropdown.Item, {\n      as: Button\n    }, __jsx(FontAwesomeIcon, {\n      icon: faShare\n    }), \" Share\"), __jsx(Dropdown.Item, {\n      as: Button\n    }, __jsx(FontAwesomeIcon, {\n      icon: faFlag\n    }), \" Report\")))))))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["E:\\Users\\Jordan\\Desktop\\statmix\\pages\\index.js"],"names":["Layout","fetch","Link","Button","Dropdown","FontAwesomeIcon","faFlag","faShare","faEllipsisV","absoluteUrl","CompactOptionsToggle","Home","React","Component","getInitialProps","req","origin","res","data","json","polls","constructor","props","render","map","poll","url","title","desc","length","pathname","query","slug","lineHeight","marginLeft","totalVotes","dateCreated"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,MAAT,EAAiBC,OAAjB,EAA0BC,WAA1B,QAA6C,mCAA7C;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,oBAAP,MAAiC,oCAAjC;;AAGA,MAAMC,IAAN,SAAmBC,KAAK,CAACC,SAAzB,CAAmC;AACjC,eAAaC,eAAb,CAA6B;AAACC,IAAAA;AAAD,GAA7B,EAAoC;AAClC,UAAM;AAAEC,MAAAA;AAAF,QAAaP,WAAW,CAACM,GAAD,CAA9B;AACA,UAAME,GAAG,GAAG,MAAMhB,KAAK,CAAE,GAAEe,MAAO,mBAAX,CAAvB;AACA,UAAME,IAAI,GAAG,MAAMD,GAAG,CAACE,IAAJ,EAAnB;AAEA,WAAO;AACLC,MAAAA,KAAK,EAAEF;AADF,KAAP;AAGD;;AAEDG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAED;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEH,MAAAA;AAAF,QAAY,KAAKE,KAAvB;AACA,WACE,MAAC,MAAD,QACE;AAAI,MAAA,SAAS,EAAC;AAAd,sBADF,EAEE,iBAFF,EAGGF,KAAK,CAACI,GAAN,CAAUC,IAAI,IACb;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAqC,MAAA,GAAG,EAAEA,IAAI,CAACC;AAA/C,OACE,MAAC,IAAD;AAAM,MAAA,IAAI,EAAG,SAAQD,IAAI,CAACC,GAAI;AAA9B,OACE,iBACE;AAAI,MAAA,SAAS,EAAC;AAAd,OACGD,IAAI,CAACE,KADR,CADF,CADF,CADF,EAQE,iBARF,EASE;AAAK,MAAA,SAAS,EAAC;AAAf,OACGF,IAAI,CAACG,IAAL,CAAUC,MAAV,GAAmB,CAAnB,GAAuB,iBAAIJ,IAAI,CAACG,IAAT,CAAvB,GAA4C,kCAD/C,CATF,EAYE,iBAZF,EAaE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,mBACE,MAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAEE,QAAAA,QAAQ,EAAE,OAAZ;AAAqBC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,IAAI,EAAEP,IAAI,CAACC;AAAb;AAA5B,OAAZ;AAA8D,MAAA,EAAE,EAAG,SAAQD,IAAI,CAACC,GAAI;AAApF,OACE,iBACE,MAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,WAAhB;AAA4B,MAAA,SAAS,EAAC;AAAtC,mBADF,CADF,CADF,EAQE;AAAK,MAAA,SAAS,EAAC,WAAf;AAA2B,MAAA,KAAK,EAAE;AAAEO,QAAAA,UAAU,EAAE,KAAd;AAAqBC,QAAAA,UAAU,EAAE;AAAjC;AAAlC,OACE,oBAAOT,IAAI,CAACU,UAAZ,2BAAwCV,IAAI,CAACW,WAA7C,CADF,CARF,CADF,EAaE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,mBACE,oBACE,MAAC,eAAD;AAAiB,MAAA,IAAI,EAAE7B;AAAvB,MADF,WADF,EAIE,oBACE,MAAC,eAAD;AAAiB,MAAA,IAAI,EAAED;AAAvB,MADF,YAJF,CADF,EASE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,MAAC,QAAD;AAAU,MAAA,UAAU;AAApB,OACE,MAAC,QAAD,CAAU,MAAV;AAAiB,MAAA,EAAE,EAAEI,oBAArB;AAA2C,MAAA,EAAE,EAAC;AAA9C,OACE,MAAC,eAAD;AAAiB,MAAA,IAAI,EAAEF;AAAvB,MADF,CADF,EAKE,MAAC,QAAD,CAAU,IAAV,QACE,MAAC,QAAD,CAAU,IAAV;AAAe,MAAA,EAAE,EAAEL;AAAnB,OACE,MAAC,eAAD;AAAiB,MAAA,IAAI,EAAEI;AAAvB,MADF,WADF,EAIE,MAAC,QAAD,CAAU,IAAV;AAAe,MAAA,EAAE,EAAEJ;AAAnB,OACE,MAAC,eAAD;AAAiB,MAAA,IAAI,EAAEG;AAAvB,MADF,YAJF,CALF,CADF,CATF,CAbF,CAbF,CADD,CAHH,CADF;AA8DD;;AAhFgC;;AAmFnC,eAAeK,IAAf","sourcesContent":["import Layout from '../components/Layout';\nimport fetch from 'isomorphic-unfetch';\nimport Link from 'next/link';\nimport Button from 'react-bootstrap/Button';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFlag, faShare, faEllipsisV } from '@fortawesome/free-solid-svg-icons';\nimport absoluteUrl from 'next-absolute-url';\nimport CompactOptionsToggle from '../components/CompactOptionsToggle';\n\n\nclass Home extends React.Component {\n  static async getInitialProps({req}) {\n    const { origin } = absoluteUrl(req);\n    const res = await fetch(`${origin}/api/polls/page/1`);\n    const data = await res.json();\n  \n    return {\n      polls: data\n    }\n  }\n\n  constructor(props) {\n    super(props);\n\n  }\n\n  render() {\n    const { polls } = this.props;\n    return (\n      <Layout>\n        <h4 className='page-header'>Recent Polls</h4>\n        <hr />\n        {polls.map(poll => (\n          <div className='poll-card-container' key={poll.url}>\n            <Link href={`/poll/${poll.url}`}>\n              <a>\n                <h6 className='poll-card-title'>\n                  {poll.title}\n                </h6>\n              </a>\n            </Link>\n            <hr />\n            <div className='poll-card-desc'>\n              {poll.desc.length > 0 ? <p>{poll.desc}</p> : <i>No Description</i> }\n            </div>\n            <hr />\n            <div className='poll-card-actions'>\n              <div>\n                <Link href={{ pathname: '/poll', query: { slug: poll.url } }} as={`/poll/${poll.url}`}>\n                  <a>\n                    <Button variant=\"grey-blue\" className='view-poll'>\n                      View Poll\n                    </Button>\n                  </a>\n                </Link>\n                <div className='poll-stat' style={{ lineHeight: '2.5', marginLeft: '0.75rem' }}>\n                  <span>{poll.totalVotes} votes â€¢ Posted {poll.dateCreated}</span>\n                </div>\n              </div>\n              <div className='poll-card-actions-options'>\n                <div>\n                  <span>\n                    <FontAwesomeIcon icon={faShare} /> Share\n                  </span>\n                  <span>\n                    <FontAwesomeIcon icon={faFlag} /> Report\n                  </span>\n                </div>\n                <div className='poll-card-actions-compact'>\n                  <Dropdown alignRight>\n                    <Dropdown.Toggle as={CompactOptionsToggle} id=\"dropdown-custom-components\">\n                      <FontAwesomeIcon icon={faEllipsisV} />\n                    </Dropdown.Toggle>\n\n                    <Dropdown.Menu>\n                      <Dropdown.Item as={Button}>\n                        <FontAwesomeIcon icon={faShare} /> Share\n                      </Dropdown.Item>\n                      <Dropdown.Item as={Button}>\n                        <FontAwesomeIcon icon={faFlag} /> Report\n                      </Dropdown.Item>\n                    </Dropdown.Menu>\n                  </Dropdown>\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </Layout>\n    )\n  }\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}
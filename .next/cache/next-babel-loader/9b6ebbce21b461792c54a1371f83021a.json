{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../components/Layout';\nimport fetch from 'isomorphic-unfetch';\nimport Link from 'next/link';\nimport Button from 'react-bootstrap/Button';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFlag, faShare, faEllipsisV } from '@fortawesome/free-solid-svg-icons';\nimport absoluteUrl from 'next-absolute-url';\nimport CompactOptionsToggle from '../components/CompactOptionsToggle';\n\nvar Home =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Home, _React$Component);\n\n  _createClass(Home, null, [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var req, _absoluteUrl, origin, res, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                req = _ref.req;\n                _absoluteUrl = absoluteUrl(req), origin = _absoluteUrl.origin;\n                _context.next = 4;\n                return fetch(\"\".concat(origin, \"/api/polls/page/1\"));\n\n              case 4:\n                res = _context.sent;\n                _context.next = 7;\n                return res.json();\n\n              case 7:\n                data = _context.sent;\n                return _context.abrupt(\"return\", {\n                  polls: data\n                });\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  function Home(props) {\n    _classCallCheck(this, Home);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n  }\n\n  _createClass(Home, [{\n    key: \"render\",\n    value: function render() {\n      var polls = this.props.polls;\n      return __jsx(Layout, null, __jsx(\"h4\", {\n        className: \"page-header\"\n      }, \"Recent Polls\"), __jsx(\"hr\", null), polls.map(function (poll) {\n        return __jsx(\"div\", {\n          className: \"poll-card-container\",\n          key: poll.url\n        }, __jsx(Link, {\n          href: \"/poll/\".concat(poll.url)\n        }, __jsx(\"a\", null, __jsx(\"h6\", {\n          className: \"poll-card-title\"\n        }, poll.title))), __jsx(\"hr\", null), __jsx(\"div\", {\n          className: \"poll-card-desc\"\n        }, poll.desc.length > 0 ? __jsx(\"p\", null, poll.desc) : __jsx(\"i\", null, \"No Description\")), __jsx(\"hr\", null), __jsx(\"div\", {\n          className: \"poll-card-actions\"\n        }, __jsx(\"div\", null, __jsx(Link, {\n          href: {\n            pathname: '/poll',\n            query: {\n              slug: poll.url\n            }\n          },\n          as: \"/poll/\".concat(poll.url)\n        }, __jsx(\"a\", null, __jsx(Button, {\n          variant: \"grey-blue\",\n          className: \"view-poll\"\n        }, \"View Poll\"))), __jsx(\"div\", {\n          className: \"poll-stat\",\n          style: {\n            lineHeight: '2.5',\n            marginLeft: '0.75rem'\n          }\n        }, __jsx(\"span\", null, poll.totalVotes, \" votes \\u2022 Posted \", poll.dateCreated))), __jsx(\"div\", {\n          className: \"poll-card-actions-options\"\n        }, __jsx(\"div\", null, __jsx(\"span\", null, __jsx(FontAwesomeIcon, {\n          icon: faShare\n        }), \" Share\"), __jsx(\"span\", null, __jsx(FontAwesomeIcon, {\n          icon: faFlag\n        }), \" Report\")), __jsx(\"div\", {\n          className: \"poll-card-actions-compact\"\n        }, __jsx(Dropdown, {\n          alignRight: true\n        }, __jsx(Dropdown.Toggle, {\n          as: CompactOptionsToggle,\n          id: \"dropdown-custom-components\"\n        }, __jsx(FontAwesomeIcon, {\n          icon: faEllipsisV\n        })), __jsx(Dropdown.Menu, null, __jsx(Dropdown.Item, {\n          as: Button\n        }, __jsx(FontAwesomeIcon, {\n          icon: faShare\n        }), \" Share\"), __jsx(Dropdown.Item, {\n          as: Button\n        }, __jsx(FontAwesomeIcon, {\n          icon: faFlag\n        }), \" Report\")))))));\n      }));\n    }\n  }]);\n\n  return Home;\n}(React.Component);\n\nexport default Home;","map":{"version":3,"sources":["E:\\Users\\Jordan\\Desktop\\statmix\\pages\\index.js"],"names":["Layout","fetch","Link","Button","Dropdown","FontAwesomeIcon","faFlag","faShare","faEllipsisV","absoluteUrl","CompactOptionsToggle","Home","req","origin","res","json","data","polls","props","map","poll","url","title","desc","length","pathname","query","slug","lineHeight","marginLeft","totalVotes","dateCreated","React","Component"],"mappings":"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","sourcesContent":["import Layout from '../components/Layout';\nimport fetch from 'isomorphic-unfetch';\nimport Link from 'next/link';\nimport Button from 'react-bootstrap/Button';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFlag, faShare, faEllipsisV } from '@fortawesome/free-solid-svg-icons';\nimport absoluteUrl from 'next-absolute-url';\nimport CompactOptionsToggle from '../components/CompactOptionsToggle';\n\n\nclass Home extends React.Component {\n  static async getInitialProps({req}) {\n    const { origin } = absoluteUrl(req);\n    const res = await fetch(`${origin}/api/polls/page/1`);\n    const data = await res.json();\n  \n    return {\n      polls: data\n    }\n  }\n\n  constructor(props) {\n    super(props);\n\n  }\n\n  render() {\n    const { polls } = this.props;\n    return (\n      <Layout>\n        <h4 className='page-header'>Recent Polls</h4>\n        <hr />\n        {polls.map(poll => (\n          <div className='poll-card-container' key={poll.url}>\n            <Link href={`/poll/${poll.url}`}>\n              <a>\n                <h6 className='poll-card-title'>\n                  {poll.title}\n                </h6>\n              </a>\n            </Link>\n            <hr />\n            <div className='poll-card-desc'>\n              {poll.desc.length > 0 ? <p>{poll.desc}</p> : <i>No Description</i> }\n            </div>\n            <hr />\n            <div className='poll-card-actions'>\n              <div>\n                <Link href={{ pathname: '/poll', query: { slug: poll.url } }} as={`/poll/${poll.url}`}>\n                  <a>\n                    <Button variant=\"grey-blue\" className='view-poll'>\n                      View Poll\n                    </Button>\n                  </a>\n                </Link>\n                <div className='poll-stat' style={{ lineHeight: '2.5', marginLeft: '0.75rem' }}>\n                  <span>{poll.totalVotes} votes â€¢ Posted {poll.dateCreated}</span>\n                </div>\n              </div>\n              <div className='poll-card-actions-options'>\n                <div>\n                  <span>\n                    <FontAwesomeIcon icon={faShare} /> Share\n                  </span>\n                  <span>\n                    <FontAwesomeIcon icon={faFlag} /> Report\n                  </span>\n                </div>\n                <div className='poll-card-actions-compact'>\n                  <Dropdown alignRight>\n                    <Dropdown.Toggle as={CompactOptionsToggle} id=\"dropdown-custom-components\">\n                      <FontAwesomeIcon icon={faEllipsisV} />\n                    </Dropdown.Toggle>\n\n                    <Dropdown.Menu>\n                      <Dropdown.Item as={Button}>\n                        <FontAwesomeIcon icon={faShare} /> Share\n                      </Dropdown.Item>\n                      <Dropdown.Item as={Button}>\n                        <FontAwesomeIcon icon={faFlag} /> Report\n                      </Dropdown.Item>\n                    </Dropdown.Menu>\n                  </Dropdown>\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </Layout>\n    )\n  }\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}